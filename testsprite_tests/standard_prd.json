{
  "meta": {
    "project": "KENDA - Safe Urban Mobility on Cardano",
    "date": "2025-12-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "KENDA is a Progressive Web App designed to solve critical urban mobility challenges in Goma, RDC. It combines Web2 and Web3 technologies to provide a secure, transparent, and trusted taxi and moto-taxi service leveraging Cardano's blockchain for driver identity certification and automated fine management.",
  "core_goals": [
    "Provide a seamless and intuitive experience for passengers to order taxis and moto-taxis with transparent price and time estimates.",
    "Ensure maximum safety and trust through decentralized identity verification of drivers and a panic button for emergency sharing of trip details.",
    "Empower regulatory authorities to issue tamper-proof digital fines linked to drivers' blockchain wallets, reducing corruption.",
    "Support flexible payment methods, including local Mobile Money and cryptocurrency (ADA/Tokens), with integrated wallet management.",
    "Leverage real-time interactive maps for trip visualization and driver tracking to enhance user experience and operational transparency."
  ],
  "key_features": [
    "Intuitive VTC (taxi and moto-taxi) ordering interface with real-time map integration using React-Leaflet.",
    "Certified driver identities using Decentralized Identifiers (DID) on the Cardano blockchain to enhance trust.",
    "Emergency Panic Button (SOS) feature that shares real-time location and driver details with designated contacts and authorities.",
    "Trust Score system reflecting drivers' reputation based on trip history, secured on-chain.",
    "Police module enabling issuance of immutable digital fines connected to drivers' wallets to ensure regulatory compliance and transparency.",
    "Hybrid payment system supporting both Mobile Money and cryptocurrencies with smooth wallet integration via MeshJS.",
    "AI Chat Assistant enabling multilingual in-app support via Google Gemini API for user queries and assistance."
  ],
  "user_flow_summary": [
    "User signs up or logs in via a secure authentication flow.",
    "User accesses the map view to see available drivers and can order a ride by selecting destination and vehicle type.",
    "System provides transparent trip cost and estimated arrival time before confirming the order.",
    "During the trip, user can activate the Panic Button to send live location alerts if necessary.",
    "Post-ride, users can view and rate driver \"Trust Scores\" and manage payment via Mobile Money or crypto wallet.",
    "Police officers access a dedicated interface to issue and manage digital fines linked to driver wallets via the blockchain.",
    "Users can engage with AI Chat Assistant for multilingual help and support within the app."
  ],
  "validation_criteria": [
    "Successful ordering and real-time tracking of rides on the interactive map without delays.",
    "Accurate and immutable verification of driver identities through Cardano DID implementation.",
    "Reliable functionality of the Panic Button with real-time location sharing under emergency conditions.",
    "Secure issuance and tracking of digital fines by police authorities with no possibility of tampering.",
    "Seamless payment processing with both Mobile Money and cryptocurrency options, including wallet integration.",
    "Responsive and accurate multilingual AI chat responses powered by Google Gemini API.",
    "High availability and performance of the application under expected concurrent usage loads."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14 (App Router)",
      "React 18",
      "Supabase (PostgreSQL + Realtime)",
      "Tailwind CSS",
      "Leaflet / React-Leaflet",
      "Framer Motion",
      "Google Generative AI (Gemini API)"
    ],
    "features": [
      {
        "name": "AI Chat Assistant",
        "description": "POST endpoint that proxies user messages to Google Gemini to provide multilingual in-app assistance.",
        "files": [
          "app/api/chat/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Kenda Chat API",
            "version": "1.0.0"
          },
          "paths": {
            "/api/chat": {
              "post": {
                "summary": "Generate a chat reply via Gemini",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "messages": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "role": {
                                  "type": "string"
                                },
                                "content": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "role",
                                "content"
                              ]
                            },
                            "minItems": 1
                          }
                        },
                        "required": [
                          "messages"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Chat response from Gemini",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Invalid request body"
                  },
                  "500": {
                    "description": "Server or Gemini error"
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
